<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rotaeno玩家排行榜</title>
    <link rel="shortcut icon" href="/static/img/app_icon.png" type="image/png">
    <link rel="stylesheet" href="https://unpkg.com/simplebar@latest/dist/simplebar.css" />
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="/static/dark.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>

<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div>
                    <h1>Rotaeno玩家排行榜 <span id="type-display" class="type-display">Rating</span></h1>
                    <p class="last-updated">
                        <i class="fas fa-sync-alt"></i>
                        <span id="last-updated-text">最后更新: 正在加载...</span>
                    </p>
                    <p class="last-updated">数据来源Suzuneko铃猫酱Bot</p>
                    <button class="view-notice-btn" onclick="window.location.href='/notice'">查看使用声明</button>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <button id="backToTop">
            <svg class="icon"><use xlink:href="/static/icons.svg#icon-back-to-top"></use></svg>
        </button>
        <label for="theme-toggle" id="theme-change">
            <svg class="icon" id="light"><use xlink:href="/static/icons.svg#icon-light-theme"></use></svg>
            <svg class="icon" id="dark"><use xlink:href="/static/icons.svg#icon-dark-theme"></use></svg>
        </label>
        <input type="checkbox" id="theme-toggle" hidden>

        <div class="controls">
            <div class="sort-controls">
                <div class="section-title">
                    <i class="fas fa-sort-amount-down"></i>
                    排序方式
                </div>
                <div class="sort-options">
                    <button class="sort-btn active" data-type="rating">
                        <i class="fas fa-star"></i> Rating
                    </button>
                    <button class="sort-btn" data-type="score">
                        <i class="fas fa-trophy"></i> 总分数
                    </button>
                    <button class="sort-btn" data-type="acc_score">
                        <i class="fas fa-bullseye"></i> 准度平均分
                    </button>
                    <button class="sort-btn" data-type="song_score">
                        <i class="fas fa-music"></i> 歌曲排行
                    </button>
                </div>
                <div id="song-selection" style="display: none; margin-top: 10px;">
                    <select id="song-select" class="search-input">
                        <option value="">选择歌曲</option>
                    </select>
                    <select id="difficulty-select" class="search-input">
                        <option value="0">难度I</option>
                        <option value="1">难度II</option>
                        <option value="2">难度III</option>
                        <option value="3">难度IV</option>
                        <option value="4">难度IV-α</option>
                    </select>
                </div>
            </div>

            <div class="search-container">
                <div class="section-title">
                    <i class="fas fa-search"></i>
                    搜索玩家
                </div>
                <div class="search-form">
                    <div class="search-type">
                        <button class="search-type-btn active" data-type="player">玩家名</button>
                        <button class="search-type-btn" data-type="rank">排名</button>
                    </div>
                    <div class="search-input">
                        <input type="text" name="search_value" id="search-value" placeholder="输入玩家名" list="player-list">
                    </div>
                    <button class="search-btn" id="search-btn">
                        <i class="fas fa-search"></i> 搜索
                    </button>
                </div>
            </div>
        </div>

        <div class="set_leaderborad_size">
            <button class="set_size">切换至页面视图</button>
        </div>

        <div class="leaderboard_container" data-simplebar>
            <table>
                <thead id="leaderboard-header">
                </thead>
                <tbody id="leaderboard-body">
                    <tr>
                        <td colspan="8" id="loading_leaderborad">
                            <i class="fas fa-spinner fa-spin"></i> 正在加载排行榜数据...
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="pagination" id="pagination">
        </div>


    </div>
    <div class="footer-info">
        <p>数据每1小时自动更新 | Rotaeno玩家排行榜 v1.5.2.1<br>Made by RTHsama | UI Designed by Sixi<br>Powered by Flask & PostgreSQL</p>
        <p>您共访问本网站{{ user_visits }}次 | 网页共被访问{{ total_visits }}次</p>
        <p>当前有<span id="online-count">正在加载...</span>人正在访问</p>
        <p id="bilibili-link" class="related-link">
            B站个人主页：
            <a href="https://space.bilibili.com/436809171">
                <svg class="icon" width="16" height="16"><use xlink:href="/static/icons.svg#icon-bilibili"></use></svg> RTHsama
            </a> |
            <a href="https://space.bilibili.com/518645556">
                <svg class="icon" width="16" height="16"><use xlink:href="/static/icons.svg#icon-bilibili"></use></svg> Sixi
            </a>
        </p>
        <p id="qq-group-link" class="related-link">
            <span>铃猫酱官方群聊</span><br>
            <a href="https://qm.qq.com/q/9WrVrgGy08">
                <svg class="icon" width="16" height="16"><use xlink:href="/static/icons.svg#icon-qq"></use></svg>759274507(1群)
            </a> |
            <a href="https://qm.qq.com/q/TTwQQhr4ci">
                <svg class="icon" width="16" height="16"><use xlink:href="/static/icons.svg#icon-qq"></use></svg>754192668(2群)
            </a> |
            <a href="https://qm.qq.com/q/XEOwmRj42W">
                <svg class="icon" width="16" height="16"><use xlink:href="/static/icons.svg#icon-qq"></use></svg>1011028553(3群)
            </a>
        </p>
    </div>

    <div class="loading-overlay" id="loading-overlay">
        <div class="spinner"></div>
    </div>

    <script src="/static/script.js"></script>
    <script src="https://unpkg.com/simplebar@latest/dist/simplebar.min.js"></script>
</body>

</html>